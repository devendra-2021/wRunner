!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=92)}({1:function(t,e,i){"use strict";e.a=function(){var t=[];return{addHandler:function(e){if("function"==typeof e){for(var i=0;i<t.length;i++)if(t[i]===e)return void console.log("The handler already in the list");t.push(e)}else console.log("The handler must be a function")},removeHandler:function(e){for(var i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1);console.log("could not find observer in list of observers")},trigger:function(e){for(var i=t.slice(0),s=0;s<i.length;s++)i[s](e)}}}},2:function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=new function(){this.isNumber=function(t){return!!(("number"==typeof t||"string"==typeof t)&isFinite(t))},this.toNumber=function(t){return!!this.isNumber(t)&&+t},this.isDOMEl=function(t){return!(!this.isObject(t)||t.constructor===Object||!this.isNumber(t.nodeType)||1!=+t.nodeType)},this.isObject=function(t){return"object"===s(t)&&null!==t},this.isArray=function(t){return!(!this.isObject(t)||t.constructor!==Array)}};e.a=n},92:function(t,e,i){"use strict";i.r(e);var s=i(1),n=i(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n.a,l=s.a;function h(){this.minLimit=0,this.maxLimit=100,this.valuesCount=this.maxLimit-this.minLimit,this.singleValue=50,this.rangeValueMin=20,this.rangeValueMax=80,this.singleSelected=(this.singleValue-this.minLimit)/this.valuesCount*100,this.rangeSelected=(this.rangeValueMax-this.rangeValueMin)/this.valuesCount*100,this.step=1,this.type="single",this.typeConstants={singleValue:"single",rangeValue:"range"},this.addEvents()}h.prototype={addEvents:function(){this.valueUpdateEvent=l(),this.limitsUpdateEvent=l(),this.stepUpdateEvent=l(),this.percentageUpdateEvent=l(),this.typeUpdateEvent=l()},setLimits:function(t,e){t=t||{};var i=o.isNumber(t.minLimit)?+t.minLimit:this.minLimit,s=o.isNumber(t.maxLimit)?+t.maxLimit:this.maxLimit;return i<s&&(this.minLimit=i,this.maxLimit=s),i===s&&(this.minLimit=i,this.maxLimit=s+1,e||console.log("Maximum limit was increased by 1, because the minimum limit is equal to the maximum limit.")),i>s&&(this.minLimit=s,this.maxLimit=i,e||console.log("Limits was reversed, because the maximum limit is less than the minimum limit.")),this.valuesCount=this.maxLimit-this.minLimit,this.limitsUpdateEvent.trigger({minLimit:this.minLimit,maxLimit:this.maxLimit,valuesCount:this.valuesCount}),{minLimit:this.minLimit,maxLimit:this.maxLimit,valuesCount:this.valuesCount}},getLimits:function(){return{minLimit:this.minLimit,maxLimit:this.maxLimit,valuesCount:this.valuesCount}},setSingleValue:function(t,e){return t=o.isNumber(t)?+t:this.singleValue,this.setAValueTo(t,"singleValue",!0),this.singleSelected=(this.singleValue-this.minLimit)/this.valuesCount*100,this.valueUpdateEvent.trigger({value:this.singleValue,selected:this.singleSelected}),{value:this.singleValue,selected:this.singleSelected}},setRangeValue:function(t,e){var i,s;if("object"!==a(t)||null==t?(i=this.rangeValueMin,s=this.rangeValueMax):(i=o.isNumber(t.minValue)?+t.minValue:this.rangeValueMin,s=o.isNumber(t.maxValue)?+t.maxValue:this.rangeValueMax),i===s&&(s+=this.step,e||console.log("The maximum value was increased by 1, because minimum value is equal to maximum value.")),i>s){var n=s;s=i,i=n,e||console.log("The values was reversed, because maximum value is less than minimum value.")}return this.setAValueTo(i,"rangeValueMin",e),this.setAValueTo(s,"rangeValueMax",e),this.rangeSelected=(this.rangeValueMax-this.rangeValueMin)/this.valuesCount*100,this.valueUpdateEvent.trigger({minValue:this.rangeValueMin,maxValue:this.rangeValueMax,selected:this.rangeSelected}),{minValue:this.rangeValueMin,maxValue:this.rangeValueMax,selected:this.rangeSelected}},recalculateValue:function(){return this.type===this.typeConstants.singleValue?this.setSingleValue(null,!0):this.type===this.typeConstants.rangeValue?this.setRangeValue(null,!0):void 0},setNearestValueViaPercents:function(t){if(o.isNumber(t)){var e=Math.round(this.valuesCount*+t/100+this.minLimit);return this.type===this.typeConstants.singleValue?this.setSingleValue(e,!0):this.type===this.typeConstants.rangeValue?e<(this.rangeValueMin+this.rangeValueMax)/2?this.setRangeValue({minValue:+e},!0):this.setRangeValue({maxValue:+e},!0):void 0}},setAValueTo:function(t,e,i){var s=Math.round(+t/this.step)*this.step;s<this.minLimit?(this[e]=this.minLimit,i||console.log("The value was equated to the minimum, because it is less than the minimum value.")):s>this.maxLimit?(this[e]=this.maxLimit,i||console.log("The value was equated to the maximum, because it is more than the maximum value.")):this[e]=s},getValue:function(){return this.type==this.typeConstants.singleValue?{value:this.singleValue,selected:this.singleSelected}:this.type==this.typeConstants.rangeValue?{minValue:this.rangeValueMin,maxValue:this.rangeValueMax,selected:this.rangeSelected}:void 0},setStep:function(t){if(o.isNumber(t)&&!(t<=0))return this.step=+t,this.stepUpdateEvent.trigger(this.step),this.step},getStep:function(){return this.step},setType:function(t){var e=!1;for(var i in this.typeConstants)if(t===this.typeConstants[i]){e=!0;break}if(e)return this.type=t,this.typeUpdateEvent.trigger(this.type),this.type},getType:function(){return{type:this.type,typeConstants:Object.assign({},this.typeConstants)}}};var u=h,d=s.a,r=n.a;function p(){this.roots=document.body,this.divisionsCount=5,this.valueNoteDisplay=!0,this.theme={value:"default",className:"theme",oldValue:null},this.direction={value:"horizontal",className:"direction",oldValue:null},this.directionConstants={horizontalValue:"horizontal",verticalValue:"vertical"},this.base=$("<div class='wrunner'>")[0],this.outer=$("<div class='wrunner__outer'>").appendTo($(this.base))[0],this.path=$("<div class='wrunner__path'>").appendTo($(this.outer))[0],this.pathPassed=$("<div class='wrunner__pathPassed'>").appendTo($(this.path))[0],this.handle=$("<div class='wrunner__handle'>")[0],this.handleMin=$("<div class='wrunner__handle'>")[0],this.handleMax=$("<div class='wrunner__handle'>")[0],this.valueNote=$("<div class='wrunner__valueNote'>")[0],this.valueNoteMin=$("<div class='wrunner__valueNote'>")[0],this.valueNoteMax=$("<div class='wrunner__valueNote'>")[0],this.divisions=$("<div class='wrunner__divisions'>").appendTo($(this.outer))[0],this.divisionsList=[],this.addEvents(),this.addListenners()}p.prototype={addEvents:function(){this.mouseDownEvent=d(),this.draggEvent=d(),this.clickEvent=d(),this.UIValueActionEvent=d(),this.themeUpdateEvent=d(),this.directionUpdateEvent=d(),this.stylesAppliedEvent=d(),this.valueNoteDisplayUpdateEvent=d(),this.rootsUpdateEvent=d(),this.divisionsCountUpdateEvent=d(),this.valueNoteDisplayAppliedEvent=d()},addListenners:function(){$(this.path).on("mousedown",function(t){this.mouseDownEvent.trigger(t)}.bind(this))},updateDOM:function(t){t.type==t.typeConstants.singleValue&&($(this.handleMin).detach(),$(this.handleMax).detach(),$(this.valueNoteMin).detach(),$(this.valueNoteMax).detach(),$(this.handle).appendTo($(this.path)),$(this.valueNote).appendTo($(this.outer))),t.type==t.typeConstants.rangeValue&&($(this.handle).detach(),$(this.valueNote).detach(),$(this.handleMin).appendTo($(this.path)),$(this.handleMax).appendTo($(this.path)),$(this.valueNoteMin).appendTo($(this.outer)),$(this.valueNoteMax).appendTo($(this.outer)))},action:function(t){var e=!1,i=function(e){s.call(this,e),this.draggEvent.trigger(t)}.bind(this);function s(t){var e,i,s,n=this.direction.value,a=this.directionConstants;n===a.horizontalValue&&(e=$(this.path).outerWidth(),i=this.path.getBoundingClientRect().left,s=t.clientX),n===a.verticalValue&&(e=$(this.path).outerHeight(),i=this.path.getBoundingClientRect().top,s=t.clientY),s<i-10||s>i+e+10||(n===a.horizontalValue&&this.UIValueActionEvent.trigger((s-i)/e*100),n===a.verticalValue&&this.UIValueActionEvent.trigger(100-(s-i)/e*100))}$(document.body).one("mousemove",function(){return e=!0}),$(document.body).on("mousemove",i),$(document.body).one("mouseup",function(t){var n=t.target;$(document.body).off("mousemove",i),e||n!=this.handle&&n!=this.handleMin&&n!=this.handleMax&&(s.call(this,t),this.clickEvent.trigger())}.bind(this))},append:function(){return $(this.base).appendTo($(this.roots)),this.roots},setRoots:function(t){if(r.isDOMEl(t))return this.roots=t,this.rootsUpdateEvent.trigger(this.roots),this.roots},getRoots:function(){return this.roots},setDivisionsCount:function(t,e){if(r.isNumber(t)&&!(t<0))return 1==(t=Math.round(t))&&(t++,e||console.log("Count was increased by one, cause it may not be equal to one.")),this.divisionsCount=+t,this.divisionsCountUpdateEvent.trigger(this.divisionsCount),this.divisionsCount},generateDivisions:function(){$(this.divisions).empty(),this.divisionsList.length=0;for(var t=this.divisionsCount;t>0;t--){var e=$("<div class='wrunner__division'>");this.divisionsList.push(e[0]),e.appendTo($(this.divisions))}return this.els=this.divisionsList.concat(this.baseElsList),this.divisionsList},getDivisionsCount:function(){return this.divisionsCount},drawValue:function(t,e,i){for(var s,n,a,o,l=t.selected,h=this.direction.value,u=this.directionConstants,d=i.type,r=i.typeConstants,p=[this.pathPassed,this.handle,this.handleMin,this.handleMax,this.valueNote,this.valueNoteMin,this.valueNoteMax],v=0;v<p.length;v++)$(p[v]).attr("style","");if(d==r.singleValue&&($(this.valueNote).text(t.value),h==u.horizontalValue&&($(this.pathPassed).css("width",l+"%"),$(this.handle).css("left",l+"%"),s=$(this.path).outerWidth(),n=$(this.valueNote).outerWidth(),$(this.valueNote).css("left",(s*l/100-n/2)/s*100+"%")),h==u.verticalValue&&($(this.pathPassed).css("height",l+"%"),$(this.handle).css("top",100-l+"%"),s=$(this.path).outerHeight(),n=$(this.valueNote).outerHeight(),$(this.valueNote).css("top",100-(s*l/100+n/2)/s*100+"%"))),d==r.rangeValue){var m=(t.minValue-e.minLimit)/e.valuesCount*100;$(this.valueNoteMin).text(t.minValue),$(this.valueNoteMax).text(t.maxValue),h==u.horizontalValue&&($(this.pathPassed).css("width",l+"%"),$(this.pathPassed).css("left",m+"%"),$(this.handleMin).css("left",m+"%"),$(this.handleMax).css("left",m+l+"%"),s=$(this.path).outerWidth(),a=$(this.valueNoteMin).outerWidth(),o=$(this.valueNoteMax).outerWidth(),$(this.valueNoteMin).css("left",(s*m/100-a/2)/s*100+"%"),$(this.valueNoteMax).css("left",(s*(m+l)/100-o/2)/s*100+"%")),h==u.verticalValue&&($(this.pathPassed).css("height",l+"%"),$(this.pathPassed).css("top",100-l-m+"%"),$(this.handleMax).css("top",100-m-l+"%"),$(this.handleMin).css("top",100-m+"%"),s=$(this.path).outerHeight(),a=$(this.valueNoteMin).outerHeight(),o=$(this.valueNoteMax).outerHeight(),$(this.valueNoteMin).css("top",100-(s*m/100+a/2)/s*100+"%"),$(this.valueNoteMax).css("top",100-(s*(m+l)/100+o/2)/s*100+"%"))}return t},setTheme:function(t){if("string"==typeof t)return this.theme.oldValue=this.theme.value,this.theme.value=t,this.themeUpdateEvent.trigger(this.theme.value),this.theme.value},getTheme:function(){return this.theme.value},setDirection:function(t){if("string"==typeof t)for(var e in this.directionConstants)if(t===this.directionConstants[e])return this.direction.oldValue=this.direction.value,this.direction.value=t,this.directionUpdateEvent.trigger({value:this.direction.value,constants:this.directionConstants}),{value:this.direction.value,constants:this.directionConstants}},getDirection:function(){return{value:this.direction.value,constants:this.directionConstants}},applyStyles:function(){for(var t=[this.theme,this.direction],e=[this.base,this.outer,this.path,this.pathPassed,this.divisions,this.handle,this.handleMin,this.handleMax,this.valueNote,this.valueNoteMin,this.valueNoteMax].concat(this.divisionsList),i=0;i<e.length;i++){var s=$(e[i]);for(var n in t){var a=e[i].classList[0],o=t[n].oldValue,l=t[n].value;o&&s.removeClass(a+"_"+t[n].className+"_"+o),l&&s.addClass(a+"_"+t[n].className+"_"+l)}}return this.stylesAppliedEvent.trigger(Object.assign({},this.styles)),Object.assign({},this.styles)},setValueNoteDisplay:function(t){if("boolean"==typeof t)return this.valueNoteDisplay=t,this.valueNoteDisplayUpdateEvent.trigger(this.valueNoteDisplay),this.valueNoteDisplay},applyValueNoteDisplay:function(){for(var t=this.valueNote.classList[0],e=[this.valueNote,this.valueNoteMin,this.valueNoteMax],i=e.length-1;i>=0;i--)$(e[i]).removeClass(t+"_display_"+(this.valueNoteDisplay?"hidden":"visible")).addClass(t+"_display_"+(this.valueNoteDisplay?"visible":"hidden"));return this.valueNoteDisplayAppliedEvent.trigger(this.valueNoteDisplay),this.valueNoteDisplay},getValueNoteDisplay:function(){return this.valueNoteDisplay}};var v=p;function m(t){t=t||{},this.model=t.model,this.view=t.view,this.addEvents(),this.applyUserEvents(t.userOptions),this.applyUserOptions(t.userOptions),this.initInstance(),this.triggerEvents()}m.prototype={addEvents:function(){this.model.stepUpdateEvent.addHandler(function(t){this.model.recalculateValue()}.bind(this)),this.model.valueUpdateEvent.addHandler(function(t){this.view.drawValue(this.model.getValue(),this.model.getLimits(),this.model.getType())}.bind(this)),this.model.limitsUpdateEvent.addHandler(function(t){this.model.recalculateValue()}.bind(this)),this.model.typeUpdateEvent.addHandler(function(t){this.view.updateDOM(this.model.getType()),this.model.recalculateValue()}.bind(this)),this.view.mouseDownEvent.addHandler(function(t){this.view.action(t)}.bind(this)),this.view.UIValueActionEvent.addHandler(function(t){this.model.setNearestValueViaPercents(t,!0)}.bind(this)),this.view.themeUpdateEvent.addHandler(function(t){this.view.applyStyles(),this.view.drawValue(this.model.getValue(),this.model.getLimits(),this.model.getType())}.bind(this)),this.view.directionUpdateEvent.addHandler(function(t){this.view.applyStyles(),this.view.drawValue(this.model.getValue(),this.model.getLimits(),this.model.getType())}.bind(this)),this.view.valueNoteDisplayUpdateEvent.addHandler(function(t){this.view.applyValueNoteDisplay(),this.view.drawValue(this.model.getValue(),this.model.getLimits(),this.model.getType())}.bind(this)),this.view.rootsUpdateEvent.addHandler(function(t){this.view.append()}.bind(this)),this.view.divisionsCountUpdateEvent.addHandler(function(t){this.view.generateDivisions(),this.view.applyStyles()}.bind(this))},initInstance:function(){this.view.updateDOM(this.model.getType()),this.view.generateDivisions(),this.view.append(),this.view.applyValueNoteDisplay(),this.view.applyStyles(),this.view.drawValue(this.model.getValue(),this.model.getLimits(),this.model.getType())},applyUserOptions:function(t){t=t||{},this.view.setRoots(t.roots),void 0!==t.step&&this.model.setStep(t.step),void 0!==t.type&&this.model.setType(t.type),void 0!==t.limits&&this.model.setLimits(t.limits),void 0!==t.singleValue&&this.model.setSingleValue(t.singleValue),void 0!==t.rangeValue&&this.model.setRangeValue(t.rangeValue),void 0!==t.divisionsCount&&this.view.setDivisionsCount(t.divisionsCount),void 0!==t.valueNoteDisplay&&this.view.setValueNoteDisplay(t.valueNoteDisplay),void 0!==t.theme&&this.view.setTheme(t.theme),void 0!==t.direction&&this.view.setDirection(t.direction)},applyUserEvents:function(t){void 0!==(t=t||{}).onStepUpdate&&this.onStepUpdate(t.onStepUpdate),void 0!==t.onTypeUpdate&&this.onTypeUpdate(t.onTypeUpdate),void 0!==t.onLimitsUpdate&&this.onLimitsUpdate(t.onLimitsUpdate),void 0!==t.onValueUpdate&&this.onValueUpdate(t.onValueUpdate),void 0!==t.onRootsUpdate&&this.onRootsUpdate(t.onRootsUpdate),void 0!==t.onDivisionsCountUpdate&&this.onDivisionsCountUpdate(t.onDivisionsCountUpdate),void 0!==t.onValueNoteDisplayUpdate&&this.onValueNoteDisplayUpdate(t.onValueNoteDisplayUpdate),void 0!==t.onThemeUpdate&&this.onThemeUpdate(t.onThemeUpdate),void 0!==t.onDirectionUpdate&&this.onDirectionUpdate(t.onDirectionUpdate)},triggerEvents:function(){this.model.type==this.model.typeConstants.singleValue&&this.model.valueUpdateEvent.trigger({value:this.model.singleValue,selected:this.model.singleSelected}),this.model.type==this.model.typeConstants.rangeValue&&this.model.valueUpdateEvent.trigger({minValue:this.model.rangeMinValue,maxValue:this.model.rangeMaxValue,selected:this.model.rangeSelected}),this.model.typeUpdateEvent.trigger(this.model.type),this.model.stepUpdateEvent.trigger(this.model.step),this.model.limitsUpdateEvent.trigger({minLimit:this.model.minLimit,maxLimit:this.model.maxLimit,valuesCount:this.model.valuesCount}),this.view.themeUpdateEvent.trigger(Object.assign({},this.view.theme)),this.view.directionUpdateEvent.trigger(Object.assign({},this.view.direction)),this.view.valueNoteDisplayUpdateEvent.trigger(this.view.valueNoteDisplay),this.view.rootsUpdateEvent.trigger(this.view.roots),this.view.divisionsCountUpdateEvent.trigger(this.view.divisionsCount)},onValueUpdate:function(t){this.model.valueUpdateEvent.addHandler(t)},onStepUpdate:function(t){this.model.stepUpdateEvent.addHandler(t)},onLimitsUpdate:function(t){this.model.limitsUpdateEvent.addHandler(t)},onTypeUpdate:function(t){this.model.typeUpdateEvent.addHandler(t)},onThemeUpdate:function(t){this.view.themeUpdateEvent.addHandler(t)},onDirectionUpdate:function(t){this.view.directionUpdateEvent.addHandler(t)},onValueNoteDisplayUpdate:function(t){this.view.valueNoteDisplayUpdateEvent.addHandler(t)},onRootsUpdate:function(t){this.view.rootsUpdateEvent.addHandler(t)},onDivisionsCountUpdate:function(t){this.view.divisionsCountUpdateEvent.addHandler(t)}};var c=m;!function(t){t.fn.wRunner=function(t){(t=t||{}).roots=this[0];var e=new function(){this.Model=u,this.View=v,this.Presenter=c};return function(){var i=new e.Model,s=new e.View,n=new e.Presenter({model:i,view:s,userOptions:t});return{setType:i.setType.bind(i),setLimits:i.setLimits.bind(i),setSingleValue:i.setSingleValue.bind(i),setRangeValue:i.setRangeValue.bind(i),setNearestValueViaPercents:i.setNearestValueViaPercents.bind(i),setStep:i.setStep.bind(i),getType:i.getType.bind(i),getLimits:i.getLimits.bind(i),getValue:i.getValue.bind(i),getStep:i.getStep.bind(i),setRoots:s.setRoots.bind(s),setTheme:s.setTheme.bind(s),setDirection:s.setDirection.bind(s),setValueNoteDisplay:s.setValueNoteDisplay.bind(s),setDivisionsCount:s.setDivisionsCount.bind(s),getRoots:s.getRoots.bind(s),getTheme:s.getTheme.bind(s),getDirection:s.getDirection.bind(s),getValueNoteDisplay:s.getValueNoteDisplay.bind(s),getDivisionsCount:s.getDivisionsCount.bind(s),onStepUpdate:n.onStepUpdate.bind(n),onTypeUpdate:n.onTypeUpdate.bind(n),onLimitsUpdate:n.onLimitsUpdate.bind(n),onValueUpdate:n.onValueUpdate.bind(n),onRootsUpdate:n.onRootsUpdate.bind(n),onDivisionsCountUpdate:n.onDivisionsCountUpdate.bind(n),onValueNoteDisplayUpdate:n.onValueNoteDisplayUpdate.bind(n),onThemeUpdate:n.onThemeUpdate.bind(n),onDirectionUpdate:n.onDirectionUpdate.bind(n)}}()}}($)}});